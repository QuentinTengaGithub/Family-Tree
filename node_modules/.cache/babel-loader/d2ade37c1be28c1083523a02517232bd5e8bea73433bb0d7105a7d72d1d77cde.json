{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport NavbarView from \"./components/NavbarView.vue\";\nimport FooterView from \"./components/FooterView.vue\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: 'App',\n  components: {\n    NavbarView,\n    FooterView\n  },\n  computed: {\n    ...mapState(['userRole', 'viewingAsName']),\n    isSuperAdmin() {\n      return ['admin', 'superadmin'].includes(this.userRole);\n    }\n  },\n  watch: {\n    '$route.query.viewAs': {\n      immediate: true,\n      handler(viewAs) {\n        if (viewAs && this.isSuperAdmin) {\n          const viewAsName = this.$route.query.viewAsName;\n          this.$store.commit('setViewingAs', {\n            userId: viewAs,\n            userName: viewAsName\n          });\n          this.$store.dispatch('fetchMembers', viewAs);\n        }\n      }\n    }\n  },\n  methods: {\n    leaveViewAs() {\n      const ownUserId = this.$store.state.user.uid;\n      this.$store.commit('setViewingAs', {\n        userId: null,\n        userName: null\n      });\n      this.$store.dispatch('fetchMembers', ownUserId);\n      this.$router.push('/profile');\n    }\n  },\n  created() {\n    const {\n      viewAs,\n      viewAsName\n    } = this.$route.query;\n    if (viewAs && this.isSuperAdmin) {\n      this.$store.commit('setViewingAs', {\n        userId: viewAs,\n        userName: viewAsName\n      });\n      this.$store.dispatch('fetchMembers', viewAs);\n    }\n  }\n};","map":{"version":3,"names":["NavbarView","FooterView","mapState","name","components","computed","isSuperAdmin","includes","userRole","watch","immediate","handler","viewAs","viewAsName","$route","query","$store","commit","userId","userName","dispatch","methods","leaveViewAs","ownUserId","state","user","uid","$router","push","created"],"sources":["/Users/quentin/Family-Tree/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app-container\">\n    <NavbarView />\n    <div v-if=\"isSuperAdmin && viewingAsName\" class=\"view-as-banner\">\n      <span>On {{ viewingAsName }}'s profile</span>\n      <a class=\"leave\" @click=\"leaveViewAs\">leave {{ viewingAsName }}'s profile</a>\n    </div>\n    <router-view id=\"main-content\"></router-view>\n    <FooterView />\n  </div>\n</template>\n\n<script>\nimport NavbarView from \"./components/NavbarView.vue\";\nimport FooterView from \"./components/FooterView.vue\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: 'App',\n  components: {\n    NavbarView,\n    FooterView,\n  },\n  computed: {\n    ...mapState(['userRole', 'viewingAsName']),\n    isSuperAdmin() {\n      return ['admin', 'superadmin'].includes(this.userRole);\n    }\n  },\n  watch: {\n    '$route.query.viewAs': {\n      immediate: true,\n      handler(viewAs) {\n        if (viewAs && this.isSuperAdmin) {\n          const viewAsName = this.$route.query.viewAsName;\n          this.$store.commit('setViewingAs', { userId: viewAs, userName: viewAsName });\n          this.$store.dispatch('fetchMembers', viewAs);\n        }\n      }\n    }\n  },\n  methods: {\n    leaveViewAs() {\n      const ownUserId = this.$store.state.user.uid;\n      this.$store.commit('setViewingAs', { userId: null, userName: null });\n      this.$store.dispatch('fetchMembers', ownUserId);\n      this.$router.push('/profile');\n    }\n  },\n  created() {\n    const { viewAs, viewAsName } = this.$route.query;\n    if (viewAs && this.isSuperAdmin) {\n      this.$store.commit('setViewingAs', { userId: viewAs, userName: viewAsName });\n      this.$store.dispatch('fetchMembers', viewAs);\n    }\n  }\n}\n</script>\n\n<style>\nhtml, body {\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  text-align: center;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\n#app-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n#main-content {\n  flex: 1;\n  padding-top: 40px; /* Add some space below the navbar */\n}\n\n.title {\n  margin-top:40px;\n  font-size: 30px;\n  font-weight: bold;\n  color: var(--blue);\n}\n\n.leave {\n  padding: 10px 20px;\n  border:solid 1px blue;\n}\n\n.button {\n  background-color: var(--blue);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  font-size: 15px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.button:hover {\n  background-color: var(--lightBlue);\n}\n\n:root {\n  --blue: #12B4FF;\n  --lightBlue: #7CD5FF;\n  --pink: #fb6b90;\n  --title: #6A6A6A;\n  --lightGrey: #f1f1f1;\n}\n\nbody.dark {\n  --blue: #0d84b5;\n  --lightBlue: #5a9db8;\n  --pink: #c95673;\n  --title: #a9a9a9;\n  --lightGrey: #2a2a2a;\n  background-color: #1a1a1a;\n  color: #fff;\n}\n\n.content {\n  margin-top: -30px !important;\n  margin-left: 0 !important;\n}\n\n.view-as-banner {\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 10px;\n  text-align: center;\n  border-bottom: 1px solid #f5c6cb;\n  margin-top:40px;\n}\n\n.view-as-banner button {\n  margin-left: 15px;\n  background-color: #721c24;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n</style>"],"mappings":";AAaA,OAAOA,UAAS,MAAO,6BAA6B;AACpD,OAAOC,UAAS,MAAO,6BAA6B;AACpD,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVJ,UAAU;IACVC;EACF,CAAC;EACDI,QAAQ,EAAE;IACR,GAAGH,QAAQ,CAAC,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;IAC1CI,YAAYA,CAAA,EAAG;MACb,OAAO,CAAC,OAAO,EAAE,YAAY,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACC,QAAQ,CAAC;IACxD;EACF,CAAC;EACDC,KAAK,EAAE;IACL,qBAAqB,EAAE;MACrBC,SAAS,EAAE,IAAI;MACfC,OAAOA,CAACC,MAAM,EAAE;QACd,IAAIA,MAAK,IAAK,IAAI,CAACN,YAAY,EAAE;UAC/B,MAAMO,UAAS,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,UAAU;UAC/C,IAAI,CAACG,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE;YAAEC,MAAM,EAAEN,MAAM;YAAEO,QAAQ,EAAEN;UAAW,CAAC,CAAC;UAC5E,IAAI,CAACG,MAAM,CAACI,QAAQ,CAAC,cAAc,EAAER,MAAM,CAAC;QAC9C;MACF;IACF;EACF,CAAC;EACDS,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,MAAMC,SAAQ,GAAI,IAAI,CAACP,MAAM,CAACQ,KAAK,CAACC,IAAI,CAACC,GAAG;MAC5C,IAAI,CAACV,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE;QAAEC,MAAM,EAAE,IAAI;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;MACpE,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,cAAc,EAAEG,SAAS,CAAC;MAC/C,IAAI,CAACI,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;IAC/B;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAM;MAAEjB,MAAM;MAAEC;IAAW,IAAI,IAAI,CAACC,MAAM,CAACC,KAAK;IAChD,IAAIH,MAAK,IAAK,IAAI,CAACN,YAAY,EAAE;MAC/B,IAAI,CAACU,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE;QAAEC,MAAM,EAAEN,MAAM;QAAEO,QAAQ,EAAEN;MAAW,CAAC,CAAC;MAC5E,IAAI,CAACG,MAAM,CAACI,QAAQ,CAAC,cAAc,EAAER,MAAM,CAAC;IAC9C;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}