{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig\";\nexport default {\n  name: 'AdminView',\n  data() {\n    return {\n      users: [],\n      selectedUser: null\n    };\n  },\n  async created() {\n    await this.fetchAllUsers();\n  },\n  methods: {\n    async fetchAllUsers() {\n      const usersCol = collection(db, 'users');\n      const userSnapshot = await getDocs(usersCol);\n      this.users = userSnapshot.docs.map(doc => ({\n        ...doc.data(),\n        uid: doc.id\n      }));\n    },\n    selectUser(user) {\n      this.selectedUser = user;\n      this.$store.dispatch('fetchMembers', user.uid);\n      this.$router.push('/members');\n    }\n  }\n};","map":{"version":3,"names":["collection","getDocs","db","name","data","users","selectedUser","created","fetchAllUsers","methods","usersCol","userSnapshot","docs","map","doc","uid","id","selectUser","user","$store","dispatch","$router","push"],"sources":["/Users/quentin/Family-Tree/src/views/AdminView.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <h1>Admin Panel</h1>\n    <p>Welcome, admin!</p>\n\n    <h2>All Users</h2>\n    <div v-if=\"users.length\">\n      <ul>\n        <li v-for=\"user in users\" :key=\"user.uid\">\n          {{ user.name }} ({{ user.email }}) - Role: {{ user.role }}\n          <button @click=\"selectUser(user)\">View Tree</button>\n        </li>\n      </ul>\n    </div>\n    <p v-else>No users found.</p>\n  </div>\n</template>\n\n<script>\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig\";\n\nexport default {\n  name: 'AdminView',\n  data() {\n    return {\n      users: [],\n      selectedUser: null\n    }\n  },\n  async created() {\n    await this.fetchAllUsers();\n  },\n  methods: {\n    async fetchAllUsers() {\n      const usersCol = collection(db, 'users');\n      const userSnapshot = await getDocs(usersCol);\n      this.users = userSnapshot.docs.map(doc => ({ ...doc.data(), uid: doc.id }));\n    },\n    selectUser(user) {\n      this.selectedUser = user;\n      this.$store.dispatch('fetchMembers', user.uid);\n      this.$router.push('/members');\n    }\n  }\n}\n</script>\n"],"mappings":";AAmBA,SAASA,UAAU,EAAEC,OAAM,QAAS,oBAAoB;AACxD,SAASC,EAAC,QAAS,mBAAmB;AAEtC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE;IAChB;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,MAAME,QAAO,GAAIV,UAAU,CAACE,EAAE,EAAE,OAAO,CAAC;MACxC,MAAMS,YAAW,GAAI,MAAMV,OAAO,CAACS,QAAQ,CAAC;MAC5C,IAAI,CAACL,KAAI,GAAIM,YAAY,CAACC,IAAI,CAACC,GAAG,CAACC,GAAE,KAAM;QAAE,GAAGA,GAAG,CAACV,IAAI,CAAC,CAAC;QAAEW,GAAG,EAAED,GAAG,CAACE;MAAG,CAAC,CAAC,CAAC;IAC7E,CAAC;IACDC,UAAUA,CAACC,IAAI,EAAE;MACf,IAAI,CAACZ,YAAW,GAAIY,IAAI;MACxB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,cAAc,EAAEF,IAAI,CAACH,GAAG,CAAC;MAC9C,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;IAC/B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}